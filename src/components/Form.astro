---
if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    const name = data.get("username");
    const email = data.get("email");
    const message = data.get("message");
    const date = data.get("date");
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<section class="flex justify-center flex-col py-32 bg-background text-light">
  <h2 class="text-center text-h2 my-4">CONTACT US</h2>
  <p class="text-3xl text-center my-8">
    For booking details, please reach out using the form below!
  </p>
  <form
    class="flex flex-col items-center"
    action="https://script.google.com/macros/s/AKfycbz7Flmk_dlQFwKPpLQUQ1rJquJ04D1hpRJ-k5HOMRWUr0SOyf1ziW4aJh9U9sM8DSdR/exec"
    method="post"
  >
    <label for="username" class="text-xl my-4">Name</label>
    <input
      type="text"
      id="username"
      name="username"
      class="w-96 p-2 text-dark"
      required
    />
    <label for="email" class="text-xl my-4">Email</label>
    <input
      type="email"
      id="email"
      name="email"
      class="w-96 p-2 text-dark"
      required
    />
    <label
      for="message"
      class="block mb-2 my-4 text-sm font-medium text-gray-900 dark:text-white"
      >Message</label
    >
    <textarea
      id="message"
      rows="4"
      class="block p-2.5 w-1/2 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"
      placeholder="Leave a message..."></textarea>
    <button
      type="submit"
      class="bg-blue-500 text-light text-xl p-2 my-8 hover:bg-blue-700 rounded-lg w-96"
      >Submit</button
    >
  </form>
</section>
